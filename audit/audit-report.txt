üìä Report generated on: Mon Jun 23 13:49:43 CEST 2025

1. PROJECT SCOPE ANALYSIS
=========================
üìÅ Total Solidity Files:
       7

üìè Lines of Code Analysis (SLOC):
github.com/AlDanial/cloc v 2.04  T=0.01 s (1218.5 files/s, 114406.1 lines/s)
-------------------------------------------------------------------------------
Language                     files          blank        comment           code
-------------------------------------------------------------------------------
Solidity                         9             97            463            285
-------------------------------------------------------------------------------
SUM:                             9             97            463            285
-------------------------------------------------------------------------------

üìã Lines per Solidity File:
      93 src/token/RLCCrosschainToken.sol
     189 src/bridges/layerZero/RLCAdapter.sol
     274 src/bridges/layerZero/IexecLayerZeroBridge.sol
     152 src/bridges/common/DualPausableUpgradeable.sol
      42 src/interfaces/IERC7802.sol
       7 src/interfaces/ITokenSpender.sol
      28 src/interfaces/IIexecLayerZeroBridge.sol
     785 total

üîê SHA256 Hash of Contract Files:
e71f79339ee8563853ca05475ccd996479e3f47b86a9a6a0f32988c44c96a7ce  src/token/RLCCrosschainToken.sol
3d4e4e9a0dfd4508b094f625b91690d71a74409486d5d8eadfd0fe7a5423675c  src/bridges/layerZero/RLCAdapter.sol
58d054f0a3f4ac5b27bf192ffbff54525786559cf9c1ad8e2c11973a1c2c5a15  src/bridges/layerZero/IexecLayerZeroBridge.sol
eecbbf1fc2429ebd4b578d19ee23615a703a512971a9d5243f89b79c240f0a50  src/bridges/common/DualPausableUpgradeable.sol
5611901f2e63adfcbbdad0ec436eda20fb33b7a7b46323db8886c53909a2f755  src/interfaces/IERC7802.sol
12c59391fe407fb0fcade24fd30e62dc173f13b944cc4be0a40e3a12e1ad3f85  src/interfaces/ITokenSpender.sol
3d6ab0ab18112a926e62d9ee58f375ff19c1d34e4277245292a2e44139c559cf  src/interfaces/IIexecLayerZeroBridge.sol

2. SOLIDITY CODE METRICS
========================
‚úÖ Detailed code metrics saved to audit/code-metrics.html

3. EXTERNAL CALLS ANALYSIS
==========================
üîç External function calls found:
src/token/RLCCrosschainToken.sol:62:        return interfaceId == type(IERC7802).interfaceId || super.supportsInterface(interfaceId);
src/bridges/layerZero/RLCAdapter.sol:130:        return OwnableUpgradeable.owner();
src/bridges/layerZero/RLCAdapter.sol:156:        return super._debit(_from, _amountLD, _minAmountLD, _dstEid);
src/bridges/layerZero/RLCAdapter.sol:178:        return super._credit(_to, _amountLD, _srcEid);
src/bridges/layerZero/IexecLayerZeroBridge.sol:64:        OFTCoreUpgradeable(IERC20Metadata(_token).decimals(), _lzEndpoint)
src/bridges/layerZero/IexecLayerZeroBridge.sol:170:        return OwnableUpgradeable.owner();
src/bridges/layerZero/IexecLayerZeroBridge.sol:213:        RLC_TOKEN.crosschainBurn(_from, amountSentLD);
src/bridges/layerZero/IexecLayerZeroBridge.sol:255:        RLC_TOKEN.crosschainMint(_to, _amountLD);
src/bridges/common/DualPausableUpgradeable.sol:30:    /// keccak256(abi.encode(uint256(keccak256("iexec.storage.DualPausable")) - 1)) & ~bytes32(uint256(0xff))

4. COMPILATION & TESTING
========================
üî® Running forge build...
Compiler run successful!

üß™ Running test suite...
Ran 2 tests for test/units/token/RLCCrosschainTokenScript.t.sol:RLCCrosschainTokenTest
Suite result: ok. 2 passed; 0 failed; 0 skipped; finished in 7.91ms (4.82ms CPU time)
Ran 8 tests for test/units/bridges/layerZero/RLCAdapter.t.sol:RLCAdapterTest
Suite result: ok. 8 passed; 0 failed; 0 skipped; finished in 10.23ms (2.96ms CPU time)
Ran 8 tests for test/units/bridges/layerZero/IexecLayerZeroBridge.t.sol:IexecLayerZeroBridgeTest
Suite result: ok. 8 passed; 0 failed; 0 skipped; finished in 10.24ms (1.68ms CPU time)
Ran 5 tests for test/e2e/IexecLayerZeroBridgeScript.t.sol:IexecLayerZeroBridgeScriptTest
Suite result: ok. 5 passed; 0 failed; 0 skipped; finished in 1.50s (655.95ms CPU time)
Ran 12 tests for test/units/bridges/common/DualPausableUpgradeableTest.t.sol:DualPausableUpgradeableTest
Suite result: ok. 12 passed; 0 failed; 0 skipped; finished in 3.33s (2.22ms CPU time)
Ran 19 tests for test/units/token/RLCCrosschainToken.t.sol:RLCCrosschainTokenTest
Suite result: ok. 19 passed; 0 failed; 0 skipped; finished in 3.33s (1.14ms CPU time)
Ran 2 tests for test/units/bridges/layerZero/UpgradeIexecLayerZeroBridge.t.sol:UpgradeRLCOFTTest
Suite result: FAILED. 0 passed; 2 failed; 0 skipped; finished in 3.35s (6.67s CPU time)
Ran 2 tests for test/units/bridges/layerZero/UpgradeRLCAdapter.t.sol:UpgradeRLCAdapterTest
Suite result: FAILED. 0 passed; 2 failed; 0 skipped; finished in 3.35s (6.67s CPU time)
Ran 6 tests for test/e2e/RLCAdapterScript.t.sol:RLCAdapterScriptTest
Suite result: ok. 6 passed; 0 failed; 0 skipped; finished in 56.30s (84.24s CPU time)
Ran 9 test suites in 56.32s (71.21s CPU time): 60 tests passed, 4 failed, 0 skipped (64 total tests)
Encountered 2 failing tests in test/units/bridges/layerZero/UpgradeIexecLayerZeroBridge.t.sol:UpgradeRLCOFTTest
Encountered 2 failing tests in test/units/bridges/layerZero/UpgradeRLCAdapter.t.sol:UpgradeRLCAdapterTest
Encountered a total of 4 failing tests, 60 tests succeeded
‚ùå Some tests are failing - see details below:
[FAIL: Upgrade safety validation failed:
[FAIL: Upgrade safety validation failed:
[FAIL: Upgrade safety validation failed:
[FAIL: Upgrade safety validation failed:
[FAIL: Upgrade safety validation failed:

‚úÖ AUDIT REPORT COMPLETED
=========================
üìÅ Main report: audit/audit-report.txt
üìä Files generated:
total 5440
drwxr-xr-x   5 gabriel  staff      160 Jun 23 13:50 .
drwxr-xr-x  30 gabriel  staff      960 Jun 23 13:50 ..
-rw-r--r--   1 gabriel  staff     5626 Jun 23 13:51 audit-report.txt
-rw-r--r--   1 gabriel  staff  2763505 Jun 23 13:49 code-metrics.html
-rw-r--r--   1 gabriel  staff     9408 Jun 23 13:51 test-output.txt
